package main  // برنامه در بسته‌ی main قرار دارد (بسته اصلی برنامه)

import "fmt"  // وارد کردن بسته fmt برای استفاده از توابع ورودی/خروجی مانند چاپ در کنسول

func main() {  // شروع تابع اصلی که نقطه آغاز اجرای برنامه است
	i := 40  // تعریف متغیر i با مقدار اولیه 40. این متغیر از نوع int است

	// تعریف یک اشاره‌گر ip از نوع *int و انتساب آدرس متغیر i به آن
	// اشاره‌گر به متغیر i اشاره می‌کند، به این معنی که آدرس حافظه‌ی i در ip ذخیره می‌شود
	var ip *int = &i

	// چاپ آدرس حافظه‌ای که ip به آن اشاره می‌کند (آدرس i)
	// به جای چاپ مقدار i، آدرس حافظه آن را چاپ می‌کند
	fmt.Print("ayary poter : ", ip)  // چاپ آدرس حافظه‌ی i (که ip به آن اشاره دارد)
}


//----------------------------------------------------


func main() {  // شروع تابع اصلی که نقطه آغاز اجرای برنامه است
	i := 40  // تعریف متغیر i با مقدار اولیه 40. این متغیر از نوع int است

	// تعریف یک اشاره‌گر ip از نوع *int و انتساب آدرس متغیر i به آن
	// اشاره‌گر به متغیر i اشاره می‌کند، به این معنی که آدرس حافظه‌ی i در ip ذخیره می‌شود
	var ip *int = &i  // &i آدرس حافظه‌ی متغیر i را به ip می‌دهد

	// چاپ آدرس حافظه‌ای که ip به آن اشاره می‌کند (آدرس i)
	// به جای چاپ مقدار i، آدرس حافظه‌ی آن را چاپ می‌کند
	fmt.Print("ayary poter : ", ip)  // چاپ آدرس حافظه‌ی i (که ip به آن اشاره دارد)

	// نکته: علامت & برای گرفتن آدرس حافظه یک متغیر استفاده می‌شود
	// علامت * برای دسترسی به مقدار داده‌ای است که اشاره‌گر به آن اشاره می‌کند

	// مثال بیشتر: تغییر مقدار متغیر از طریق اشاره‌گر
	// تابعی که مقدار متغیری را که اشاره‌گر به آن اشاره می‌کند تغییر می‌دهد
	modifyValue(&i)  // آدرس i را به تابع می‌دهیم

	// چاپ مقدار جدید i پس از تغییر
	fmt.Println("\nValue of i after modification: ", i)  // مقدار i پس از تغییر که به 20 تبدیل می‌شود
}

// تابعی که مقدار متغیری که اشاره‌گر به آن اشاره می‌کند را تغییر می‌دهد
func modifyValue(ptr *int) {
	*ptr = 20  // مقدار متغیری که ptr به آن اشاره می‌کند را تغییر می‌دهیم
	// *ptr به مقدار واقعی متغیر اشاره‌گر اشاره دارد، بنابراین مقدار آن به 20 تغییر می‌کند
}

